module.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t){e.exports=flarum.core.compat["common/extend"]},function(e,t){e.exports=flarum.core.compat["admin/components/ExtensionsWidget"]},function(e,t){e.exports=flarum.core.compat["admin/components/LoadingModal"]},function(e,t){e.exports=flarum.core.compat["common/utils/ItemList"]},function(e,t){e.exports=flarum.core.compat["admin/components/AdminNav"]},function(e,t){e.exports=flarum.core.compat["admin/components/ExtensionLinkButton"]},function(e,t){e.exports=flarum.core.compat["common/components/Dropdown"]},function(e,t){e.exports=flarum.core.compat["common/components/Button"]},function(e,t){e.exports=flarum.core.compat["common/helpers/icon"]},function(e,t){e.exports=flarum.core.compat["admin/utils/saveSettings"]},function(e,t){e.exports=flarum.core.compat["admin/utils/getCategorizedExtensions"]},function(e,t){e.exports=flarum.core.compat["admin/utils/isExtensionEnabled"]},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n(4),r=n.n(a),i=n(5),s=n.n(i),c=n(1),l=n.n(c),u=n(2),d=n.n(u),p=n(3),f=n.n(p),g=n(6),x=n.n(g),y=n(7),v=n.n(y),b=n(8),h=n.n(b),E=n(9),j=n.n(E),O=n(10),z=n.n(O);var w=n(11),_=n.n(w);function k(){switch(app.data.settings["sycho-ace.selected-categorization"]){case"none":return(e={}).none=Object.values(app.data.extensions),e;case"vendor":return function(){var e={};return Object.keys(app.data.extensions).map((function(t){var n=t.split("-")[0];e[n]=e[n]||[],e[n].push(app.data.extensions[t])})),e}();case"availability":return function(){var e={enabled:[],disabled:[]};return Object.keys(app.data.extensions).map((function(t){var n=_()(t)?"enabled":"disabled";e[n].push(app.data.extensions[t])})),e}();default:return z()()}var e}function C(){switch(app.data.settings["sycho-ace.selected-categorization"]){case"none":return{none:0};case"vendor":return function(){var e={},t=[];Object.keys(app.data.extensions).map((function(e){t.push(e.split("-")[0])})),t.sort((function(e,t){return"flarum"===e?-1:e>t?1:e===t?0:-1}));var n=10*t.length;t.forEach((function(t){return e[t]=n-=10})),e.flarum&&(e.flarum=5e3);return e}();case"availability":return{enabled:10,disabled:0};default:return app.extensionCategories}}function N(){var e={},t=C();return Object.keys(t).map((function(t){switch(app.data.settings["sycho-ace.selected-categorization"]){case"default":e[t]=app.translator.trans("core.admin.nav.categories."+t);break;case"vendor":e[t]=t;break;default:e[t]=app.translator.trans("sycho-ace.admin.categories."+t)}})),e}app.initializers.add("sycho-advanced-extension-categories",(function(e){var t={default:e.translator.trans("sycho-ace.admin.category_selection.options.default"),vendor:e.translator.trans("sycho-ace.admin.category_selection.options.vendor"),availability:e.translator.trans("sycho-ace.admin.category_selection.options.availability"),none:e.translator.trans("sycho-ace.admin.category_selection.options.none")};e.extensionData.for("sycho-advanced-extension-categories").registerSetting((function(){var n=this.buildSettingComponent({setting:"sycho-ace.selected-categorization",label:e.translator.trans("sycho-ace.admin.category_selection.label"),type:"select",options:t,default:"default"}),o=this.saveSettings;return this.saveSettings=function(t){o.call(this,t),e.modal.show(d.a),window.location.reload()},n}));e.extensionCategories=C(),e.categorizedExtensions=k(),e.categoryLabels=N(),l.a.prototype.controlItems=function(){var n,o=new f.a,a=null!=(n=e.data.settings["sycho-ace.selected-categorization"])?n:"default";return o.add("categorization",m("div",{className:"ExtensionsWidget-control-item"},m(x.a,{buttonClassName:"Button",label:e.translator.trans("sycho-ace.admin.category_selection.label")},Object.keys(t).map((function(n){return m(v.a,{icon:a!==n||"fas fa-check",active:a===n,onclick:function(){return t=n,j()({"sycho-ace.selected-categorization":t}).then((function(){return window.location.reload()})),void e.modal.show(d.a);var t}},t[n])}))))),o},Object(o.override)(l.a.prototype,"oninit",(function(){this.categorizedExtensions=e.categorizedExtensions})),Object(o.override)(l.a.prototype,"content",(function(t){return[m("div",{className:"ExtensionsWidget-list-heading"},m("h2",{className:"ExtensionsWidget-list-name"},m("span",{className:"ExtensionsWidget-list-icon"},h()("fas fa-puzzle-piece")),m("span",{className:"ExtensionsWidget-list-title"},e.translator.trans("sycho-ace.admin.extensions"))),m("div",{className:"ExtensionsWidget-list-controls"},this.controlItems().toArray())),t()]})),Object(o.extend)(l.a.prototype,"extensionCategory",(function(t,n){t.children[0].text=e.categoryLabels[n]})),Object(o.override)(r.a.prototype,"extensionItems",(function(){var t=this,n=new f.a;return Object.keys(e.categorizedExtensions).map((function(o){t.query()||n.add("category-"+o,m("h4",{className:"ExtensionListTitle"},e.categoryLabels[o]),e.extensionCategories[o]),e.categorizedExtensions[o].map((function(a){var r=t.query().toUpperCase(),i=a.extra["flarum-extension"].title;(!r||i.toUpperCase().includes(r)||a.description.toUpperCase().includes(r))&&n.add("extension-"+a.id,m(s.a,{href:e.route("extension",{id:a.id}),extensionId:a.id,className:"ExtensionNavButton",title:a.description},i),e.extensionCategories[o])}))})),n}))}),-999)}]);
//# sourceMappingURL=admin.js.map