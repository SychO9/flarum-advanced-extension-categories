{"version":3,"sources":["webpack://@sycho/flarum-advanced-extension-categories/webpack/bootstrap","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['common/extend']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/components/ExtensionsWidget']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/components/LoadingModal']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['common/utils/ItemList']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/components/AdminNav']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/components/ExtensionLinkButton']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['common/components/Dropdown']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['common/components/Button']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['common/helpers/icon']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/utils/saveSettings']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/utils/getCategorizedExtensions']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/utils/isExtensionEnabled']\"","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/overrideGetCategorizedExtensions.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/utils/getAlphabeticallyOrderedExtensions.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/utils/getVendorCategorizedExtensions.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/utils/getAvailabilityCategorizedExtensions.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/getCategories.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/getCategoryLabels.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","overrideGetCategorizedExtensions","app","data","settings","extensions","none","values","keys","map","id","vendor","split","push","getVendorCategorizedExtensions","enabled","disabled","category","isExtensionEnabled","getAvailabilityCategorizedExtensions","getCategorizedExtensions","getCategories","vendors","vendorsArray","sort","a","b","k","length","forEach","v","getVendors","extensionCategories","getCategoryLabels","labels","categories","translator","trans","initializers","add","categorizationOptions","default","availability","extensionData","registerSetting","selectbox","this","buildSettingComponent","setting","label","type","options","originalSaveSettings","saveSettings","e","modal","show","LoadingModal","window","location","reload","categorizedExtensions","categoryLabels","ExtensionsWidget","controlItems","items","ItemList","selectedCategorization","className","buttonClassName","icon","active","onclick","then","override","original","toArray","extend","vnode","children","text","AdminNav","query","extension","toUpperCase","title","extra","includes","description","href","route","extensionId"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['admin/components/ExtensionsWidget'];","module.exports = flarum.core.compat['admin/components/LoadingModal'];","module.exports = flarum.core.compat['common/utils/ItemList'];","module.exports = flarum.core.compat['admin/components/AdminNav'];","module.exports = flarum.core.compat['admin/components/ExtensionLinkButton'];","module.exports = flarum.core.compat['common/components/Dropdown'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['admin/utils/saveSettings'];","module.exports = flarum.core.compat['admin/utils/getCategorizedExtensions'];","module.exports = flarum.core.compat['admin/utils/isExtensionEnabled'];","import getCategorizedExtensions from 'flarum/admin/utils/getCategorizedExtensions';\nimport getAlphabeticallyOrderedExtensions from './utils/getAlphabeticallyOrderedExtensions';\nimport getVendorCategorizedExtensions from './utils/getVendorCategorizedExtensions';\nimport getAvailabilityCategorizedExtensions from './utils/getAvailabilityCategorizedExtensions';\n\nexport default function overrideGetCategorizedExtensions() {\n  switch (app.data.settings['sycho-ace.selected-categorization']) {\n    case 'none':\n      return getAlphabeticallyOrderedExtensions();\n\n    case 'vendor':\n      return getVendorCategorizedExtensions();\n\n    case 'availability':\n      return getAvailabilityCategorizedExtensions();\n\n    default:\n      return getCategorizedExtensions();\n  }\n}\n","export default function getAlphabeticallyOrderedExtensions() {\n  let extensions = {};\n\n  extensions.none = Object.values(app.data.extensions);\n\n  return extensions;\n}\n","export default function getVendorCategorizedExtensions() {\n  let extensions = {};\n\n  Object.keys(app.data.extensions).map((id) => {\n    const vendor = id.split('-')[0];\n\n    extensions[vendor] = extensions[vendor] || [];\n    extensions[vendor].push(app.data.extensions[id]);\n  });\n\n  return extensions;\n}\n","import isExtensionEnabled from 'flarum/admin/utils/isExtensionEnabled';\n\nexport default function getAvailabilityCategorizedExtensions() {\n  let extensions = { enabled: [], disabled: [] };\n\n  Object.keys(app.data.extensions).map((id) => {\n    const category = isExtensionEnabled(id) ? 'enabled' : 'disabled';\n\n    extensions[category].push(app.data.extensions[id]);\n  });\n\n  return extensions;\n}\n","export default function getCategories() {\n  switch (app.data.settings['sycho-ace.selected-categorization']) {\n    case 'none':\n      return { none: 0 };\n\n    case 'vendor':\n      return getVendors();\n\n    case 'availability':\n      return { enabled: 10, disabled: 0 };\n\n    default:\n      return app.extensionCategories;\n  }\n}\n\nexport function getVendors() {\n  let vendors = {};\n  let vendorsArray = [];\n\n  Object.keys(app.data.extensions).map((id) => {\n    vendorsArray.push(id.split('-')[0]);\n  });\n\n  vendorsArray.sort((a, b) => {\n    return a === 'flarum' ? -1 : a > b ? 1 : a === b ? 0 : -1;\n  });\n\n  let k = vendorsArray.length * 10;\n  vendorsArray.forEach((v) => (vendors[v] = k -= 10));\n\n  if (vendors.flarum) vendors.flarum = 5000;\n\n  return vendors;\n}\n","import getCategories from './getCategories';\n\nexport default function getCategoryLabels() {\n  let labels = {};\n  const categories = getCategories();\n\n  Object.keys(categories).map((category) => {\n    switch (app.data.settings['sycho-ace.selected-categorization']) {\n      case 'default':\n        labels[category] = app.translator.trans(`core.admin.nav.categories.${category}`);\n        break;\n\n      case 'vendor':\n        labels[category] = category;\n        break;\n\n      default:\n        labels[category] = app.translator.trans(`sycho-ace.admin.categories.${category}`);\n    }\n  });\n\n  return labels;\n}\n","import { override, extend } from 'flarum/common/extend';\nimport AdminNav from 'flarum/admin/components/AdminNav';\nimport ExtensionLinkButton from 'flarum/admin/components/ExtensionLinkButton';\nimport ExtensionsWidget from 'flarum/admin/components/ExtensionsWidget';\nimport LoadingModal from 'flarum/admin/components/LoadingModal';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport Button from 'flarum/common/components/Button';\nimport icon from 'flarum/common/helpers/icon';\nimport saveSettings from 'flarum/admin/utils/saveSettings';\nimport overrideGetCategorizedExtensions from './overrideGetCategorizedExtensions';\nimport getCategories from './getCategories';\nimport getCategoryLabels from './getCategoryLabels';\n\napp.initializers.add(\n  'sycho-advanced-extension-categories',\n  (app) => {\n    const categorizationOptions = {\n      default: app.translator.trans('sycho-ace.admin.category_selection.options.default'),\n      vendor: app.translator.trans('sycho-ace.admin.category_selection.options.vendor'),\n      availability: app.translator.trans('sycho-ace.admin.category_selection.options.availability'),\n      none: app.translator.trans('sycho-ace.admin.category_selection.options.none'),\n    };\n\n    app.extensionData.for('sycho-advanced-extension-categories').registerSetting(function () {\n      const selectbox = this.buildSettingComponent({\n        setting: 'sycho-ace.selected-categorization',\n        label: app.translator.trans('sycho-ace.admin.category_selection.label'),\n        type: 'select',\n        options: categorizationOptions,\n        default: 'default',\n      });\n\n      const originalSaveSettings = this.saveSettings;\n      this.saveSettings = function (e) {\n        originalSaveSettings.call(this, e);\n        app.modal.show(LoadingModal);\n        window.location.reload();\n      };\n\n      return selectbox;\n    });\n\n    const saveCategorization = (value) => {\n      saveSettings({\n        'sycho-ace.selected-categorization': value,\n      }).then(() => window.location.reload());\n\n      app.modal.show(LoadingModal);\n    };\n\n    app.extensionCategories = getCategories();\n    app.categorizedExtensions = overrideGetCategorizedExtensions();\n    app.categoryLabels = getCategoryLabels();\n\n    ExtensionsWidget.prototype.controlItems = function () {\n      const items = new ItemList();\n\n      const selectedCategorization = app.data.settings['sycho-ace.selected-categorization'] ?? 'default';\n\n      items.add(\n        'categorization',\n        <div className=\"ExtensionsWidget-control-item\">\n          <Dropdown buttonClassName=\"Button\" label={app.translator.trans('sycho-ace.admin.category_selection.label')}>\n            {Object.keys(categorizationOptions).map((key) => (\n              <Button\n                icon={selectedCategorization === key ? 'fas fa-check' : true}\n                active={selectedCategorization === key}\n                onclick={() => saveCategorization(key)}\n              >\n                {categorizationOptions[key]}\n              </Button>\n            ))}\n          </Dropdown>\n        </div>\n      );\n\n      return items;\n    };\n\n    override(ExtensionsWidget.prototype, 'oninit', function () {\n      this.categorizedExtensions = app.categorizedExtensions;\n    });\n\n    override(ExtensionsWidget.prototype, 'content', function (original) {\n      return [\n        <div className=\"ExtensionsWidget-list-heading\">\n          <h2 className=\"ExtensionsWidget-list-name\">\n            <span className=\"ExtensionsWidget-list-icon\">{icon('fas fa-puzzle-piece')}</span>\n            <span className=\"ExtensionsWidget-list-title\">{app.translator.trans('sycho-ace.admin.extensions')}</span>\n          </h2>\n          <div className=\"ExtensionsWidget-list-controls\">{this.controlItems().toArray()}</div>\n        </div>,\n        original(),\n      ];\n    });\n\n    extend(ExtensionsWidget.prototype, 'extensionCategory', function (vnode, category) {\n      vnode.children[0].text = app.categoryLabels[category];\n    });\n\n    override(AdminNav.prototype, 'extensionItems', function () {\n      const items = new ItemList();\n\n      Object.keys(app.categorizedExtensions).map((category) => {\n        if (!this.query()) {\n          items.add(`category-${category}`, <h4 className=\"ExtensionListTitle\">{app.categoryLabels[category]}</h4>, app.extensionCategories[category]);\n        }\n\n        app.categorizedExtensions[category].map((extension) => {\n          const query = this.query().toUpperCase();\n          const title = extension.extra['flarum-extension'].title;\n\n          if (!query || title.toUpperCase().includes(query) || extension.description.toUpperCase().includes(query)) {\n            items.add(\n              `extension-${extension.id}`,\n              <ExtensionLinkButton\n                href={app.route('extension', { id: extension.id })}\n                extensionId={extension.id}\n                className=\"ExtensionNavButton\"\n                title={extension.description}\n              >\n                {title}\n              </ExtensionLinkButton>,\n              app.extensionCategories[category]\n            );\n          }\n        });\n      });\n\n      return items;\n    });\n  },\n  -999\n);\n"],"sourceRoot":""}