{"version":3,"sources":["webpack://@sycho/flarum-advanced-extension-categories/webpack/bootstrap","webpack://@sycho/flarum-advanced-extension-categories/./admin.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/getCategories.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/getCategoryLabels.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/index.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/overrideGetCategorizedExtensions.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/utils/getAlphabeticallyOrderedExtensions.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/utils/getAvailabilityCategorizedExtensions.js","webpack://@sycho/flarum-advanced-extension-categories/./src/admin/utils/getVendorCategorizedExtensions.js","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/components/AdminNav']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/components/ExtensionLinkButton']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/components/ExtensionsWidget']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/components/LoadingModal']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/utils/getCategorizedExtensions']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/utils/isExtensionEnabled']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['admin/utils/saveSettings']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['common/components/Button']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['common/components/Dropdown']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['common/components/Link']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['common/extend']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['common/helpers/icon']\"","webpack://@sycho/flarum-advanced-extension-categories/external \"flarum.core.compat['common/utils/ItemList']\""],"names":["getCategories","app","data","settings","none","getVendors","enabled","disabled","extensionCategories","vendors","vendorsArray","Object","keys","extensions","map","id","push","split","sort","a","b","k","length","forEach","v","flarum","getCategoryLabels","labels","categories","category","translator","trans","initializers","add","categorizationOptions","vendor","availability","extensionData","registerSetting","selectbox","buildSettingComponent","setting","label","type","options","originalSaveSettings","saveSettings","e","call","modal","show","LoadingModal","window","location","reload","saveCategorization","value","then","categoryLabels","ExtensionsWidget","prototype","controlItems","items","ItemList","selectedCategorization","key","override","categorizedExtensions","overrideGetCategorizedExtensions","original","icon","toArray","extend","vnode","children","text","AdminNav","query","extension","toUpperCase","title","extra","includes","description","route","getAlphabeticallyOrderedExtensions","getVendorCategorizedExtensions","getAvailabilityCategorizedExtensions","getCategorizedExtensions","values","isExtensionEnabled"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","export * from './src/admin';\n","export default function getCategories() {\n  switch (app.data.settings['sycho-ace.selected-categorization']) {\n    case 'none':\n      return { none: 0 };\n\n    case 'vendor':\n      return getVendors();\n\n    case 'availability':\n      return { enabled: 10, disabled: 0 };\n\n    default:\n      return app.extensionCategories;\n  }\n}\n\nexport function getVendors() {\n  let vendors = {};\n  let vendorsArray = [];\n\n  Object.keys(app.data.extensions).map((id) => {\n    vendorsArray.push(id.split('-')[0]);\n  });\n\n  vendorsArray.sort((a, b) => {\n    return a === 'flarum' ? -1 : a > b ? 1 : a === b ? 0 : -1;\n  });\n\n  let k = vendorsArray.length * 10;\n  vendorsArray.forEach((v) => (vendors[v] = k -= 10));\n\n  if (vendors.flarum) vendors.flarum = 5000;\n\n  return vendors;\n}\n","import getCategories from './getCategories';\n\nexport default function getCategoryLabels() {\n  let labels = {};\n  const categories = getCategories();\n\n  Object.keys(categories).map((category) => {\n    switch (app.data.settings['sycho-ace.selected-categorization']) {\n      case 'default':\n        labels[category] = app.translator.trans(`core.admin.nav.categories.${category}`);\n        break;\n\n      case 'vendor':\n        labels[category] = category;\n        break;\n\n      default:\n        labels[category] = app.translator.trans(`sycho-ace.admin.categories.${category}`);\n    }\n  });\n\n  return labels;\n}\n","import { override, extend } from 'flarum/common/extend';\nimport AdminNav from 'flarum/admin/components/AdminNav';\nimport ExtensionLinkButton from 'flarum/admin/components/ExtensionLinkButton';\nimport ExtensionsWidget from 'flarum/admin/components/ExtensionsWidget';\nimport LoadingModal from 'flarum/admin/components/LoadingModal';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport Button from 'flarum/common/components/Button';\nimport icon from 'flarum/common/helpers/icon';\nimport saveSettings from 'flarum/admin/utils/saveSettings';\nimport isExtensionEnabled from 'flarum/admin/utils/isExtensionEnabled';\nimport Link from 'flarum/common/components/Link';\nimport overrideGetCategorizedExtensions from './overrideGetCategorizedExtensions';\nimport getCategories from './getCategories';\nimport getCategoryLabels from './getCategoryLabels';\n\napp.initializers.add(\n  'sycho-advanced-extension-categories',\n  (app) => {\n    const categorizationOptions = {\n      default: app.translator.trans('sycho-ace.admin.category_selection.options.default'),\n      vendor: app.translator.trans('sycho-ace.admin.category_selection.options.vendor'),\n      availability: app.translator.trans('sycho-ace.admin.category_selection.options.availability'),\n      none: app.translator.trans('sycho-ace.admin.category_selection.options.none'),\n    };\n\n    app.extensionData.for('sycho-advanced-extension-categories').registerSetting(function () {\n      const selectbox = this.buildSettingComponent({\n        setting: 'sycho-ace.selected-categorization',\n        label: app.translator.trans('sycho-ace.admin.category_selection.label'),\n        type: 'select',\n        options: categorizationOptions,\n        default: 'default',\n      });\n\n      const originalSaveSettings = this.saveSettings;\n      this.saveSettings = function (e) {\n        originalSaveSettings.call(this, e);\n        app.modal.show(LoadingModal);\n        window.location.reload();\n      };\n\n      return selectbox;\n    });\n\n    const saveCategorization = (value) => {\n      saveSettings({\n        'sycho-ace.selected-categorization': value,\n      }).then(() => window.location.reload());\n\n      app.modal.show(LoadingModal);\n    };\n\n    app.extensionCategories = getCategories();\n    const categoryLabels = getCategoryLabels();\n\n    ExtensionsWidget.prototype.controlItems = function () {\n      const items = new ItemList();\n\n      const selectedCategorization = app.data.settings['sycho-ace.selected-categorization'] ?? 'default';\n\n      items.add(\n        'categorization',\n        <div className=\"ExtensionsWidget-control-item\">\n          <Dropdown buttonClassName=\"Button\" label={app.translator.trans('sycho-ace.admin.category_selection.label')}>\n            {Object.keys(categorizationOptions).map((key) => (\n              <Button\n                icon={selectedCategorization === key ? 'fas fa-check' : true}\n                active={selectedCategorization === key}\n                onclick={() => saveCategorization(key)}\n              >\n                {categorizationOptions[key]}\n              </Button>\n            ))}\n          </Dropdown>\n        </div>\n      );\n\n      return items;\n    };\n\n    override(ExtensionsWidget.prototype, 'oninit', function () {\n      this.categorizedExtensions = overrideGetCategorizedExtensions();\n    });\n\n    override(ExtensionsWidget.prototype, 'content', function (original) {\n      return [\n        <div className=\"ExtensionsWidget-list-heading\">\n          <h2 className=\"ExtensionsWidget-list-name\">\n            <span className=\"ExtensionsWidget-list-icon\">{icon('fas fa-puzzle-piece')}</span>\n            <span className=\"ExtensionsWidget-list-title\">{app.translator.trans('sycho-ace.admin.extensions')}</span>\n          </h2>\n          <div className=\"ExtensionsWidget-list-controls\">{this.controlItems().toArray()}</div>\n        </div>,\n        original()\n      ];\n    });\n\n    extend(ExtensionsWidget.prototype, 'extensionCategory', function (vnode, category) {\n      vnode.children[0].text = categoryLabels[category];\n    });\n\n    override(AdminNav.prototype, 'extensionItems', function () {\n      const items = new ItemList();\n\n      const categorizedExtensions = overrideGetCategorizedExtensions();\n      const categories = app.extensionCategories;\n\n      Object.keys(categorizedExtensions).map((category) => {\n        if (!this.query()) {\n          items.add(`category-${category}`, <h4 className=\"ExtensionListTitle\">{categoryLabels[category]}</h4>, categories[category]);\n        }\n\n        categorizedExtensions[category].map((extension) => {\n          const query = this.query().toUpperCase();\n          const title = extension.extra['flarum-extension'].title;\n\n          if (!query || title.toUpperCase().includes(query) || extension.description.toUpperCase().includes(query)) {\n            items.add(\n              `extension-${extension.id}`,\n              <ExtensionLinkButton\n                href={app.route('extension', { id: extension.id })}\n                extensionId={extension.id}\n                className=\"ExtensionNavButton\"\n                title={extension.description}\n              >\n                {title}\n              </ExtensionLinkButton>,\n              categories[category]\n            );\n          }\n        });\n      });\n\n      return items;\n    });\n  },\n  -999\n);\n","import getCategorizedExtensions from 'flarum/admin/utils/getCategorizedExtensions';\nimport getAlphabeticallyOrderedExtensions from './utils/getAlphabeticallyOrderedExtensions';\nimport getVendorCategorizedExtensions from './utils/getVendorCategorizedExtensions';\nimport getAvailabilityCategorizedExtensions from './utils/getAvailabilityCategorizedExtensions';\n\nexport default function overrideGetCategorizedExtensions() {\n  switch (app.data.settings['sycho-ace.selected-categorization']) {\n    case 'none':\n      return getAlphabeticallyOrderedExtensions();\n\n    case 'vendor':\n      return getVendorCategorizedExtensions();\n\n    case 'availability':\n      return getAvailabilityCategorizedExtensions();\n\n    default:\n      return getCategorizedExtensions();\n  }\n}\n","export default function getAlphabeticallyOrderedExtensions() {\n  let extensions = {};\n\n  extensions.none = Object.values(app.data.extensions);\n\n  return extensions;\n}\n","import isExtensionEnabled from 'flarum/admin/utils/isExtensionEnabled';\n\nexport default function getAvailabilityCategorizedExtensions() {\n  let extensions = {enabled: [], disabled: []};\n\n  Object.keys(app.data.extensions).map((id) => {\n    const category = isExtensionEnabled(id) ? 'enabled' : 'disabled';\n\n    extensions[category].push(app.data.extensions[id]);\n  });\n\n  return extensions;\n}\n","export default function getVendorCategorizedExtensions() {\n  let extensions = {};\n\n  Object.keys(app.data.extensions).map((id) => {\n    const vendor = id.split('-')[0];\n\n    extensions[vendor] = extensions[vendor] || [];\n    extensions[vendor].push(app.data.extensions[id]);\n  });\n\n  return extensions;\n}\n","module.exports = flarum.core.compat['admin/components/AdminNav'];","module.exports = flarum.core.compat['admin/components/ExtensionLinkButton'];","module.exports = flarum.core.compat['admin/components/ExtensionsWidget'];","module.exports = flarum.core.compat['admin/components/LoadingModal'];","module.exports = flarum.core.compat['admin/utils/getCategorizedExtensions'];","module.exports = flarum.core.compat['admin/utils/isExtensionEnabled'];","module.exports = flarum.core.compat['admin/utils/saveSettings'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Dropdown'];","module.exports = flarum.core.compat['common/components/Link'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/utils/ItemList'];"],"sourceRoot":""}